{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nexport function middleware(request: NextRequest) {\r\n  const response = NextResponse.next();\r\n  const pathname = request.nextUrl.pathname;\r\n\r\n  // Fast path: Block direct PDF access\r\n  if (pathname.startsWith('/materials/') && pathname.endsWith('.pdf')) {\r\n    return new NextResponse('Access denied', { status: 403 });\r\n  }\r\n\r\n  // Optimized security headers for PDF API only\r\n  if (pathname.startsWith('/api/pdf')) {\r\n    response.headers.set('X-Frame-Options', 'SAMEORIGIN');\r\n    response.headers.set('X-Content-Type-Options', 'nosniff');\r\n    response.headers.set('Cache-Control', 'private, max-age=300');\r\n  }\r\n\r\n  return response;\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\r\n    '/api/pdf/:path*',\r\n    '/((?!_next/static|_next/image|favicon.ico).*)',\r\n  ],\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,MAAM,WAAW,6LAAA,CAAA,eAAY,CAAC,IAAI;IAClC,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,qCAAqC;IACrC,IAAI,SAAS,UAAU,CAAC,kBAAkB,SAAS,QAAQ,CAAC,SAAS;QACnE,OAAO,IAAI,6LAAA,CAAA,eAAY,CAAC,iBAAiB;YAAE,QAAQ;QAAI;IACzD;IAEA,8CAA8C;IAC9C,IAAI,SAAS,UAAU,CAAC,aAAa;QACnC,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;QACxC,SAAS,OAAO,CAAC,GAAG,CAAC,0BAA0B;QAC/C,SAAS,OAAO,CAAC,GAAG,CAAC,iBAAiB;IACxC;IAEA,OAAO;AACT;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;KACD;AACH"}}]
}